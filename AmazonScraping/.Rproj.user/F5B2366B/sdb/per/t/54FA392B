{
    "collab_server" : "",
    "contents" : "library(\"dplyr\")\nlibrary(\"XML\")\nlibrary(\"stringr\")\nlibrary(\"rvest\")\nlibrary(\"audio\")\n#Remove all white space\ntrim <- function (x) gsub(\"^\\\\s+|\\\\s+$\", \"\", x)\n#Function to scrape Amazon Reviews\nscrapeReviews <- function(doc){\n  revAuthor = html_nodes(doc, \".author\") %>% html_text() \n  revText   = html_nodes(doc,\".review-text\") %>% html_text()\n  revRating = doc %>% html_nodes(\"#cm_cr-review_list  .review-rating\") %>% html_text() %>% str_extract(\"\\\\d\") %>% as.numeric()\n  df = data.frame(revAuthor,revText,revRating,stringsAsFactors = F)\n  return(df)\n}\n#Product Code\nproductCode = \"B00WK47VEW\"\nprodURL = paste0(\"https://www.amazon.com/dp/\",productCode)\nreadURL = read_html(prodURL)\n#Fetching Product Name from Amazon\nproductName = readURL %>% html_nodes(\"#productTitle\")%>% html_text() %>% gsub(\"\\n\", \"\", .)%>% trim()\n#Scraping Customer Name, Review and Ratings\nallReviews = NULL\nfor(pageNum in 1:3){\n  url = paste0(\"https://www.amazon.com/product-review/\", productCode,\"/?pageNumber=\",pageNum)\n  doc =read_html(url)\n  amazonRev = scrapeReviews(doc)\n  allReviews = rbind(allReviews,cbind(productName,amazonRev))\n}\nwrite.csv(allReviews, file = \"ProductReviews.csv\",row.names=FALSE)\n",
    "created" : 1501696204460.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2833047462",
    "id" : "54FA392B",
    "lastKnownWriteTime" : 1502819480,
    "last_content_update" : 1502819480381,
    "path" : "~/Desktop/AmazonReviews/AmazonScraping/AmazonWebScraping.R",
    "project_path" : "AmazonWebScraping.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}